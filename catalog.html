<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Catálogo — Thrift Cálido Bazar</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <style>
    body { background-color:#f8fafc; }
    .btn-burly { background-color: burlywood; color: #fff; }
    .btn-burly:hover { filter: brightness(0.9); color: #fff; }
    .card { border-radius: 12px; border:none; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <i class="bi bi-shop me-2" style="color: burlywood; font-size:1.4rem"></i>
      <span style="color: burlywood; font-weight: bold;">Thrift Cálido Bazar</span>
    </a>
    <div class="ms-auto d-flex gap-2 flex-wrap">
      <a href="index.html" class="btn btn-sm btn-burly">Inicio</a>
      <a href="catalog.html" class="btn btn-sm btn-burly active">Catálogo</a>
      <a href="cart.html" class="btn btn-sm btn-burly">Carrito</a>

      <div class="btn-group">
        <button type="button" class="btn btn-sm btn-burly dropdown-toggle" data-bs-toggle="dropdown">
          Información del Sistema
        </button>
        <ul class="dropdown-menu dropdown-menu-dark">
          <li><a class="dropdown-item" href="views/infraestructura.html">Infraestructura</a></li>
          <li><a class="dropdown-item" href="views/status.html">Status</a></li>
          <li><a class="dropdown-item" href="views/disponibilidad.html">Disponibilidad</a></li>
          <li><a class="dropdown-item" href="views/tecnologias.html">Tecnologías</a></li>
        </ul>
      </div>
      <span id="navUserName" class="text-white-50 small ms-2"></span>

      <a href="views/usuarios.html" class="btn btn-sm btn-outline-light">Mi perfil</a>
      <button class="btn btn-sm btn-outline-light" onclick="cerrarSesion()"><i class="bi bi-box-arrow-right"></i> Cerrar sesión</button>
    </div>
  </nav>

  <div class="container my-5">
    <h1 class="text-center fw-bold" style="color: burlywood;">Catálogo</h1>
    <div id="catalog" class="row g-4 mt-4"></div>
  </div>

 <div class="modal fade" id="avisoModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Aviso de Privacidad</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <p>
              En <strong>Thrift Cálido Bazar</strong> valoramos la privacidad de nuestros clientes y 
              nos comprometemos a proteger su información personal. Los datos proporcionados 
              (nombre, correo electrónico, teléfono) se utilizan exclusivamente para dar 
              seguimiento a sus consultas, pedidos o promociones relacionadas con nuestra tienda.
            </p>
            <p>
              No compartimos información personal con terceros sin consentimiento, salvo que 
              sea requerido por ley. El usuario puede ejercer sus derechos ARCO (Acceso, 
              Rectificación, Cancelación y Oposición) contactándonos a 
              <a href="mailto:thriftcalido@gmail.com">thriftcalido@gmail.com</a>.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal Términos y Condiciones -->
<div class="modal fade" id="terminosModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Términos y Condiciones</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">

        <p>
          El uso del sitio web de <strong>Thrift Cálido Bazar</strong> implica la aceptación de los siguientes
          términos, políticas y condiciones aplicables a la venta de prendas de segunda mano.
        </p>

        <h5 class="mt-3">1. Naturaleza del producto</h5>
        <ul>
          <li>Las prendas ofrecidas son <strong>de segunda mano</strong>.</li>
          <li>Pueden presentar <strong>ligeros detalles propios del uso</strong>, como desgaste menor, fibras sueltas o variaciones en color.</li>
          <li>Las fotografías muestran el estado general de la prenda, pero pueden existir <strong>otros detalles no visibles</strong> o difíciles de capturar en imagen.</li>
          <li>Recomendamos <strong>lavar la prenda antes de su primer uso</strong> por higiene y conservación.</li>
        </ul>

        <h5 class="mt-3">2. Disponibilidad</h5>
        <ul>
          <li>El inventario está sujeto a disponibilidad; cada prenda es única.</li>
          <li>Las imágenes son representativas y pueden variar levemente.</li>
        </ul>

        <h5 class="mt-3">3. Compras y pedidos</h5>
        <ul>
          <li>El cliente se compromete a proporcionar información verídica al realizar un pedido.</li>
          <li>El sistema genera un <strong>folio de compra.
        </ul>

        <h5 class="mt-3">4. Cambios, devoluciones y garantías</h5>
        <ul>
          <li>No se aceptan devoluciones por <strong>cambio de opinión</strong> debido a que cada prenda es única.</li>
          <li>Sólo se considerará una devolución en caso de que la prenda recibida no coincida con la descrita.</li>
          <li>No aplican garantías sobre prendas de segunda mano.</li>
        </ul>

        <h5 class="mt-3">5. Envíos</h5>
        <ul>
          <li>Todos los envios se realizan por correos de mexico.</li>
          <li>Thrift Calido no se hace responsable de los daños que se causen durante el envio.</li>
        </ul>

        <h5 class="mt-3">6. Responsabilidad del usuario</h5>
        <ul>
          <li>El cliente es responsable del uso, cuidado y lavado de la prenda.</li>
          <li>Thrift Cálido Bazar no se hace responsable por daños ocasionados por uso inadecuado o mal lavado.</li>
        </ul>

        <h5 class="mt-3">7. Datos personales</h5>
        <ul>
          <li>Los datos proporcionados se manejan de acuerdo con nuestro <strong>Aviso de Privacidad</strong>.</li>
          <li>El usuario puede solicitar acceso, corrección o eliminación de sus datos enviando correo a: 
            <a href="mailto:thriftcalido@gmail.com">thriftcalido@gmail.com</a>.
          </li>
        </ul>

        <p class="mt-3">
          Para más información, contáctanos por correo electrónico o vía WhatsApp al 
          <a href="https://wa.me/524491851273" target="_blank">449 185 1273</a>.
        </p>

      </div>
    </div>
  </div>
</div>

    <!-- Footer -->
    <footer class="bg-dark text-center text-white py-3 mt-5">
      <p class="mb-1">
        <span style="color: burlywood; font-weight: bold;">&copy; 2025 Thrift Cálido Bazar</span> - Todos los derechos reservados
      </p>
      <a href="#" class="text-white me-3" data-bs-toggle="modal" data-bs-target="#avisoModal">Aviso de Privacidad</a>
      <a href="#" class="text-white" data-bs-toggle="modal" data-bs-target="#terminosModal">Términos y Condiciones</a>
    </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Código del catálogo -->
  <script>
    // Restricción de acceso para usuario
    const rol = localStorage.getItem("rol");
    if (!rol) {
      alert("Debes iniciar sesión primero.");
      window.location.href = "login.html";
    } else if (rol !== "usuario") {
      alert("Acceso restringido: solo usuarios.");
      window.location.href = "views/admin.html";
    }

    const CART_KEY = "thrift_cart";
    function loadCart(){ return JSON.parse(localStorage.getItem(CART_KEY)||"{}"); }
    function saveCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); }
    function addToCart(id){
      const c = loadCart();
      c[id] = (c[id]||0) + 1;
      saveCart(c);
      alert("Producto agregado al carrito");
    }
    function cerrarSesion(){
      localStorage.removeItem("rol");
      window.location.href = "login.html";
    }

    // Cargar productos desde JSON
    fetch('src/data/products.json')
      .then(r => r.json())
      .then(products => {
        const cont = document.getElementById('catalog');
        cont.innerHTML = '';
        products.forEach(p => {
          const col = document.createElement('div');
          col.className = 'col-12 col-md-4';
          col.innerHTML = `
            <div class="card h-100">
              <img src="${p.imagen}" class="card-img-top" alt="${p.nombre}" style="height:200px;object-fit:cover;">
              <div class="card-body text-center">
                <h5 class="card-title">${p.nombre}</h5>
                <p class="card-text">${p.descripcion}</p>
                <p class="fw-bold">$${p.precio}</p>
                <button class="btn btn-burly btn-sm" onclick="addToCart('${p.id}')">Agregar al carrito</button>
              </div>
            </div>
          `;
          cont.appendChild(col);
        });
      })
      .catch(err => {
        document.getElementById('catalog').innerHTML =
          '<div class="col-12 text-center text-danger">No se pudo cargar el catálogo. Usa Live Server o un hosting.</div>';
        console.error(err);
      });
  </script>
  <script src="src/js/navbar-role.js"></script>

</body>
</html>
